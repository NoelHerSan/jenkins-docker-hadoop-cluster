FROM hadoop-base

ARG CLUSTER_NAME=HADOOP_CLUSTER
ARG NAMENODE_PORT=9870
ARG NAMENODE_FS_PORT=9000

EXPOSE $NAMENODE_PORT $NAMENODE_FS_PORT
RUN $HADOOP_HOME/bin/hdfs namenode -format $CLUSTER_NAME 2>&1
CMD $HADOOP_HOME/bin/hdfs namenode
